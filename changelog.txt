change log

### 17.07.2017
- changed (almost) every occasion of einsum to the apropriate multi_dot or outer with dot -> should make more mutithread usage now
- hardcore profiling showed a major slowdown in the usage of np.real and np.imag - replaced those with .real and .imag
- MAJOR major speedup by exploiting sparseness of the occupation number matrices
- finally found the additional dimension problem in the time step - the evolution matrix was a np.matrix which caused self.state to be one as well
- changed norm back to la.norm

### 13.07.2017
- bugfix in offdiagonals where an occurance of multidot had a wrong input type
- bugfix in offdiagsingles where multidot was used for a scalar multiplication (exchanged with *)

### 11.07.2017
- changed timescale plot to be base 10 logarithmic
- added typical energy difference to timescale plot

### 05.07.2017
- added hanning filter to fft for nicer results
- added fitting of weights

### 03.07.2017
- Changed all the asterisks in the greensfunction evaluation to multi_dot because it was shit and didnt give the correct results
- Changed green store to store flattened array because multidot is actually intelligent enough to deal with normal vectors
- Added many debugging message returns to the greensfunction part, please remove later!
- Somehow the energy is still negative, there is a problem somewhere.

### 28.06.2017
- updated main.py to get the cool stuff
- added optimize=true to einsum

### 27.06.2017
- changed off diagonal singles to only semilog plot and split into two plots
- added inlays to the above
- changed eigendecomposition linewidth again

### 26.06.2017
- changed year in last two entrys to be correct
- greensfunction changes:
	- complex conjugate was wrong
	- the time steps in time evolution matrix was dt not the correctly raised power
	- fft has to be divided by number of steps to maintain norm
- added condition to deletion of diagonal elements of operators in updateEigendecomposition (to prevent errors because of not-set variables)

### 21.06.2017
- changed linewidth for all the off-diagonal plots
- added loglog plots to the single off-diagonals averaged
- added logplots and loglog plots to the summed off-diagonals

### 20.06.2017
- changed maximum off-diagonal element lookup to take the spectral coefficients into account
- fixed an issue with conditions in spectral repres. storage
- added weighted diagonals in spectral representation to the off-diagonal plots (how ironic)

### 19.06.2017
- changed matrix transformation from einsum to dot product (a lot faster)
- added some time indicators
- added off diagonals only and absolute value to number operator in energy basis plotting
- fixed range of colormap in the above to be variable (to the total number of particles)
- fixed additional file "offdiagonals.txt" additionally created
- fixed plotting of off diagonals now only if wanted
- added cumulative integral of off-diagonals
- !!! for some reason the state array becomes a np.matrix and the updateOffDiag routine didnt want that, added hotfix
- added single off diagonal elements as well
- fixed problem with eigenvector deletion was prevented by false bool
- added single off diagonal plotting and config

### 18.06.2017
- added off-diagonal occupation number calculation on runtime (handle with care, rather slow)
- removed the numpy.distutils.system_info.tmp import in entPlot, that was a mistake done far in the past

### 27.04.2017
- actually need 101 points to get the full range!!! added this partially only - work in progress (also actually need uneven points for greensfunctions to work)
- check for data points to time steps calculation - last point is not taken but first one is... so datapoints+1 will be produced
- two time green working but i think there is an time offset in there... check this!
- changed index of green function to be the acual middle one

### 26.04.2017
- started changing to general retarded two time greens function - temporarily only 100 points!
- changed initial state memory to array of N-particle system sized full state vector saves + added time stamp array
- note: always(!!!) need an even number of green function points for this to work.
- note: greensfunction can be evaluated only after time evolution has finished - so it's maybe a good idea to free memory before that

### 24.04.2017
- added option for green function plot
- added option for order of discrete time evolution. It is now in the .ini file and not in the function call.
	This is a setup for reducing the actual function calls in the run script.
- finalized time evolution for retarded Green's function

### 21.04.2017
- added retarded Green's function to the time evolution! (yay) (in progress - need to actually do time evolution and value storing)
- improved eigendecomposition function and diagonalization function to be more intelligent
- added spectral density plot option

### 20.04.2017
- finished eigenvalue and spectral function part, is obsolete because of very large dimension - keep it but do not use it!
- moved hamiltonian generation to function call of the class. Parameters are now in the .ini

### 18.04.2017
- more progress on lower dimension hamiltonian

### 17.04.2017
- added lower dimension hamiltonian for spectral function (work in progress)

### 03.04.2017
- finally added default settings in the default.ini
- added timescale plotting to the normal routine
- made energy state more modular - all parameters are now lists
- added random phase to energy state
- added random phase for real coefficients to energy state
- hotfix: random distribution was not working

### 31.03.2017
- added occupation number per level plot
- changed averaging starting index to be fraction of total time evolution (entPlot.py)

### 27.03.2017
- fixed bug where eigenenergies and decomposition were stored twice in the same file! (delete appended data if needed)

### 23.03.2017
- added option for eigenvalue storing and plotting (not! the decomposition, this is separate)
- fixed bug where diagonal ensemble expectation value was used even if plotdiagexp was not set

### 17.03.2017
- added option for diagonal expectation value plot and storing
- fixed bug where time evolution matrix was not raised to appropriate power if hamilstore was set to false

### 16.03.2017
- added options for eigenvalue decomposition and plotting - still axis not labeled right!
- added fluctuation calculation for all levels and subsystem-entropy! also added N_tot additionally
- fixed microcanonical expectation values using average linestyle instead of expectation linestyle

### 09.03.2017
- added energy-space plot of occupation number operators (remove in the future, is just a temporary feature)
- added rectangular distribution

### 08.03.2017
- added skewness option to gaussian distribution
- added diagonal representation check (see ETH wiki article)

### 07.03.2017
- y-axis for new plots is no longer offending the reader but still not finished
- added plt.tight_layout to the plotting
- removed end-gap in new plots
- added comparison to microcanonical expectation value
- added rectangular distribution option for energy space
- added differently weighted amplitudes for many overlapping distributions in energy space

### 03.03.2017
- changed plotting only to a faster version where NO matrices and bases are created
- changed "preparations finished after" to minute and second instead of second
- changed eigenvector decomposition to more detailed data (phase, eigenvalue expect. values and so on)
--> axis labels for plot are still missing!
- changed default settings back to four levels
- changed option for varying sign and skipping of eigenvalues for stateEnergy
- added plot and data file for decomposition in occupation number space

### 20.02.2017
- prepared for final parameter set with 5 levels
- changed energy starting state routine to set mu according to the energy, not the number

### 17.02.2017
- changed AGG chunksize to 0, seems to be faster
- corrected latex error in energy plot
- changed mean value and standard deviation to numpy functions
- cosmetics in eigendecomposition plot

### 16.02.2017
- funny enough, there was a date error in the last changelog entry
- forgot to put a change in last entry
- removed hamiltonian eigenvalue decomposition from config, since it will be needed from now on
- density matrix will only be allocated when needed (better memory usage, since eigenvectors have to be stored at some point)
- added eigenvector decomposition (in calculation and plotting)
- added flag -p for only plotting
- added flag -pd for only data plotting
- added flag -pa for only animation plotting
- added workaround for supressing scipy linalg lapack error... harmless testing error

### 15.02.2017
- removed expectation value of transition... not needed at this point and it was only work in progress
- changed ini file creation to copy from default config.ini
- added hamiltonian eigenvalue decomposition as parameter and save txt file in data folder now
- changed plot to use new destination of hamiltonian eigenvalues
- added latex support in entPlot
- added size parameters for plot in config.ini
- arbitrary orders of time evolution now possible
- total entropy and energy only calculated 100 times now
- changed entplot accordingly
- NO BACKWADS COMPATIBILITY FOR THIS!!!
- changed typo in changelog 01.02.2017
- changed data storage to %.16e for almost everything!
- added timescale to plotting (usually transition element t or J)

### 01.02.2017
- added running average and total average and fluctuations... nice stuff though

### 26.01.2017
- changed entPlot to only plot total entropy if calculated

### 24.01.2017
- still no progress in transition element expectation value (frozen for now!!!)
- changed hamiltonian and all the quartic and quadratic matrices to sparse ones <--- important

### 20.01.2017
- added expectation value of transition elements
- corrected typo in 14.01.2017 changelog
- note that the quadratic operators are now stored in the mpSystem class
- Work in progress!!!

### 16.01.2017
- finally changed the initial state part to a working one
- changed time evolution to be calculated only by datapoint evaluation, so instead of doing all the time steps,
	raise the time evolution matrix at the beginning to the power of timesteps between datapoints and just do it ONCE betwen every datapoint - might be inaccurate!
- added energy to plotting as well

### 14.01.2017
- omitted some changes... sorry for that
- changed plot to use Agg (works better with the cluster)
- better reduction algorithm (order of magnitude faster, iterator is stored)
- storing logfile in data
- changed renormalize to normalize since it is misleading (ren. group is quite different)
- cosmetics
- added total system energy to calculation

### 06.01.2017
- changed renormalization to np.einsum which is about 10 times faster
- added printing out of norm every 10%
- Runge-Kutta had an error - the matrix power was actually just array multiplication, stability is now really better than before!
- added boolean for total entropy calculation (avoid this for faster calculation)
- added very strict hermiticity check! (may be too strict, check)

### 05.01.2017
- added only reduced density matrix calculation option
- cosmetics
- added state norm check to avoid numerical errors leading to unphysical behaviour
- clearing of data after plot only!

### 04.01.2017
- changed plotting to intelligent state number catching

### 03.01.2017
- removed old functions from mpEntropy
- minor writing bugfixes
- added variable config.ini naming

### 01.01.2017
- changed filename entangle_entropy.py to mpEntropy.py
- changed filename plot.py to entPlot.py
- moved plotting to mpSystem class
- imported dot differently for ever faster time evolution
- completed transition to class
- added ini file for configuration parameters! (not in repo, is produced automatically if not given)

### 31.12.2016
- changed density matrix back to outer product, since it is a lot faster
- changed trace algorithm to np.einsum for it is faster than trace (computes only the needed elements)

### 30.12.2016
- found failure in old reduction algorithm - if traced out states are not in a block, the algorithm produces errors
- new class is now complete, everything up and running and ready to go
- changed main to use new class and methods -> keep changing!
- new reduce density algorithm works super nice, is actually intelligent now (only accesses needed states)
- state evolution extremely fast -> pointstore takes long time (check what's going on there)
- renormalization not after every step, takes too long (suggestion: do once, store and repeat until told to repeat again)

### 29.12.2016
- overhaul of naming in entangle_entropy as well as defining a class for all system parameters
- rewrite of all essential functions in terms of new system class
- new reduce matrix algorithm has to be tested! but speed has been increased

### 28.12.2016
- better platform independent folder function is prepare folders
- removed reverse ordering in reduced density matrix algorithm (not needed since it is treated in offset algorithm)
- abandoned analytic solution approach so speed this thing up

### 21.12.2016
- occupation numbers never have imaginary parts (checked) so threw them away

### 20.12.2016
- checked reduction of 3 states in N=2,m=4 thing - worked nicely
- introduced a way of calculating interaction hamiltonian with loops (N=10,m=4 already 10s)

### 19.12.2016
- added a routine to interact, which sets elements smaller than 1e-4 to 0
- changed precision in matrix and state to double
- changed norm calculation to la.norm
- fixed hamiltonian use in time step
- changed to Runge Kutta 4th order
- fixed non square check - only the imaginary part is now differing big time... actually increasing with time
- checked interaction terms
- changed basis2dict and reduce_dens to intelligent array thing (tested for N=1,m=4 do again for N=2,m=4!!!!!)
- removed unnecessary case separation in basis2tuple

### 15.12.2016
- some cleanup fixes (still pretty slow)
- messed around with datatypes to increase precision - revise! now it shouldn't be changed
- reduced precision on negative eigenvalues error output
- removed timestep function and included it manifestly in main code 
- changed int to int32 in noofel

### 14.12.2016
- fixed cleanup of density matrix
- reduced number of bools in main
- reduced number of plotting functions
- cleaned up some print functions
- added better step output to print function

### 13.12.2016
- added possibility to trace out 1st state (index 0)
- checked results for N=2,m=3 rdm (traced out every single state)
- checked for N=1,m=4 NOTE: no need for ordering change in rdm algorithm,
	since it nevertheless is in non connected block form so the eigenvalues are the same yet in different ordering
- note: in myplot2 there has been a change at some time, where you can activate or deactivate the analytic plot for Rabi 1 particle

### 09.12.2016
- changed + expanded consistency check of density matrices
- analytic check of subsystem entropy for 2-state system 1 particle
- added eta to evaluation and changed some cosmetics (added comments to reduce matrix algorithm)
- super cool mega nice time display thingy
- todo list: 	- treated negative eigenvalues of rdm, (they are very very small -> more computer error than else)
				- removed norm, seems to be no problem
				- added square of density matrix problem

### 07.12.2016
- just some parameter changes, renaming of stuff, nothing special or functional

### 06.12.2016
- created changelog
- code-files:
	harmosz_mp.py
	myplot2.py
	interface.py
	entangle_entropy.py
- introduced entropy function in entangle_entropy.py
- added benchmarking code and plot
- reimplemented renormalization, since time evolution is not unitary in discrete steps of finite t... Hans said it's ok